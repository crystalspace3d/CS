<?xml version="1.0" encoding="utf-8" ?>
<shader compiler="shaderweaver" name="water">
  
	<technique priority="200">
		<pass>		
			<combiner name="glsl" plugin="crystalspace.graphics3d.shader.combiner.glsl" />
	 
			<snippet id="wave" file="/shader/snippets/wave.xml" />
			<snippet id="reflection" file="/shader-snippets/reflect/reflect-plane-screen.xml" />
			<snippet id="normalmap" file="/shader-snippets/surface/normalmap-none.xml" />
			<snippet id="perturb_norm_refl" file="/shader-snippets/tcoffset2-perturb-normal-cam.xml" />
			
			<connection from="normalmap" to="perturb_norm_refl" />
			<connection from="perturb_norm_refl" to="reflection" />
			
			<connection from="wave" to="reflection" />
		</pass>
	</technique>
	
</shader> 